<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>login</title>
  <link rel="stylesheet" href="css/brad.css">
  <link rel="stylesheet" href="css/extras.css">
  <script src="song_page.js"></script>
</head>

<body>
  <div>
    <p class="title"> <!--onclick="this.classList.toggle('explode')"-->
      Human Music Discovery
    </p>
    <div class="container">
      <label for="uname"><b>Username</b></label>
      <input id="username" type="text" placeholder="Enter Username" name="uname" required>

      <label for="psw"><b>Password</b></label>
      <input id="password" type="password" placeholder="Enter Password" name="psw" required>

      <button onclick="login()">Login</button>
    </div>
  </div>
</body>

<script>
  function login() {
    let user = document.getElementById("username").value;
    let pass = document.getElementById("password").value;
    /*// Initialize empty recommender list. Will be filled when songlist randomly populates it with recommenders
    var all_rec = [{
      names: []
    }];
    sessionStorage.setItem('all_recommenders',JSON.stringify(all_rec));
    console.log(sessionStorage.getItem('all_recommenders'));*/
    //initialize pie chart data
    var pie = [{
      values: [100],
      labels: ['No recommenders :('],
      type: 'pie'
    }];
    sessionStorage.setItem('pieChart', JSON.stringify(pie));
    var pieData = [{
      count: [],
      names: []
    }]
    sessionStorage.setItem('pieData', JSON.stringify(pieData));



    // "Log in"
    if ((user=='brad')&&(pass=='ramos')) {
      // Set user to brad and his initialize his corresponding song list
      sessionStorage.setItem('user',"brad");
      sessionStorage.setItem('song_list',JSON.stringify(brad_song))
      /*//initialize pie chart data
      var pie = [{
        values: [100],
        labels: ['No recommenders :('],
        type: 'pie'
      }];
      sessionStorage.setItem('pieChart', JSON.stringify(pie));
      var pieData = [{
        count: [],
        names: []
      }]
      sessionStorage.setItem('pieData', JSON.stringify(pieData));*/

      // Navigate to home page
      window.location.href = 'index.html';
    } else if ((user=='john')&&(pass=='smith')) { //Do the same thing for John, respectively
      sessionStorage.setItem('user',"john");
      sessionStorage.setItem('song_list',JSON.stringify(john_song))
      /*var pie = [{
        values: [100],
        labels: ['No recommenders :('],
        type: 'pie'
      }];
      sessionStorage.setItem('pieChart', JSON.stringify(pie));
      var pieData = [{
        count: [],
        names: []
      }];
      sessionStorage.setItem('pieData', JSON.stringify(pieData));*/

      window.location.href = 'index.html';
    } else {
      alert('Incorrect Username or Password.');
    }
    //console.log(user,pass);

  };
</script>
</html>
